C251 COMPILER V5.60.0,  system_init                                                        19/09/23  21:23:32  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE system_init
OBJECT MODULE PLACED IN .\list\system_init.obj
COMPILER INVOKED BY: D:\keilc251\C251\BIN\C251.EXE ..\User\system_init.c LARGE INTR2 ROM(HUGE) BROWSE INCDIR(..\Driver\i
                    -nc;..\User;..\App\inc) DEBUG PRINT(.\list\system_init.lst) TABS(2) OBJECT(.\list\system_init.obj) 

stmt  level    source

    1          /*---------------------------------------------------------------------*/
    2          /* --- STC MCU Limited ------------------------------------------------*/
    3          /* --- STC 1T Series MCU Demo Programme -------------------------------*/
    4          /* --- Mobile: (86)13922805190 ----------------------------------------*/
    5          /* --- Fax: 86-0513-55012956,55012947,55012969 ------------------------*/
    6          /* --- Tel: 86-0513-55012928,55012929,55012966 ------------------------*/
    7          /* --- Web: www.STCMCU.com --------------------------------------------*/
    8          /* --- Web: www.STCMCUDATA.com  ---------------------------------------*/
    9          /* --- QQ:  800003751 -------------------------------------------------*/
   10          /* Èç¹ûÒªÔÚ³ÌÐòÖÐÊ¹ÓÃ´Ë´úÂë,ÇëÔÚ³ÌÐòÖÐ×¢Ã÷Ê¹ÓÃÁËSTCµÄ×ÊÁÏ¼°³ÌÐò            */
   11          /*---------------------------------------------------------------------*/
   12          
   13          #include  "config.h"
   14          #include  "STC32G_GPIO.h"
   15          #include  "STC32G_ADC.h"
   16          #include  "STC32G_Exti.h"
   17          #include  "STC32G_I2C.h"
   18          #include  "STC32G_SPI.h"
   19          #include  "STC32G_Timer.h"
   20          #include  "STC32G_UART.h"
   21          #include  "STC32G_Compare.h"
   22          #include  "STC32G_Delay.h"
   23          #include  "STC32G_Switch.h"
   24          #include  "STC32G_WDT.h"
   25          #include  "STC32G_NVIC.h"
   26          #include  "app.h"
*** WARNING C317 IN LINE 89 OF \Èð±¦¿Æ\new2\lcdÏÔÊ¾ÆÁ_33.1776\App\inc\APP_Lamp.h: attempt to redefine macro 'WHITE'
*** WARNING C317 IN LINE 91 OF \Èð±¦¿Æ\new2\lcdÏÔÊ¾ÆÁ_33.1776\App\inc\APP_Lamp.h: attempt to redefine macro 'BLUE'
*** WARNING C317 IN LINE 95 OF \Èð±¦¿Æ\new2\lcdÏÔÊ¾ÆÁ_33.1776\App\inc\APP_Lamp.h: attempt to redefine macro 'RED'
*** WARNING C317 IN LINE 97 OF \Èð±¦¿Æ\new2\lcdÏÔÊ¾ÆÁ_33.1776\App\inc\APP_Lamp.h: attempt to redefine macro 'GREEN'
   27          
   28          #include  "STC32G_Soft_UART.h"
   29          
   30          //========================================================================
   31          //                                IO¿ÚÅäÖÃ
   32          //========================================================================
   33          void  GPIO_config(void)
   34          {
   35   1      //  P2_MODE_IO_PU( GPIO_Pin_3 | GPIO_Pin_4 );   //P2 ÉèÖÃÎª×¼Ë«Ïò¿Ú
   36   1      //  P2_MODE_OUT_PP(GPIO_Pin_2|GPIO_Pin_5|GPIO_Pin_6|GPIO_Pin_7);
   37   1          P2_MODE_IO_PU(GPIO_Pin_All);  
   38   1        
   39   1        P3_MODE_OUT_PP(GPIO_Pin_3|GPIO_Pin_5|GPIO_Pin_7);
   40   1        P3_MODE_IN_HIZ(GPIO_Pin_4|GPIO_Pin_6);
   41   1        
   42   1        P4_MODE_OUT_PP(GPIO_Pin_2|GPIO_Pin_3);
   43   1        P4_MODE_IN_HIZ(GPIO_Pin_0|GPIO_Pin_1);
   44   1      }
   45          
   46          //========================================================================
   47          //                               ¶¨Ê±Æ÷ÅäÖÃ
   48          //========================================================================
   49          void  Timer_config(void)
   50          {
   51   1        TIM_InitTypeDef   TIM_InitStructure;            //½á¹¹¶¨Òå
   52   1        TIM_InitStructure.TIM_Mode      = TIM_16BitAutoReload;  //Ö¸¶¨¹¤×÷Ä£Ê½,   TIM_16BitAutoReload,TIM_16Bit,T
             -IM_8BitAutoReload,TIM_16BitAutoReloadNoMask
   53   1        TIM_InitStructure.TIM_ClkSource = TIM_CLOCK_1T;   //Ö¸¶¨Ê±ÖÓÔ´,     TIM_CLOCK_1T,TIM_CLOCK_12T,TIM_CLOCK_
C251 COMPILER V5.60.0,  system_init                                                        19/09/23  21:23:32  PAGE 2   

             -Ext
   54   1        TIM_InitStructure.TIM_ClkOut    = DISABLE;        //ÊÇ·ñÊä³ö¸ßËÙÂö³å, ENABLE»òDISABLE
   55   1        TIM_InitStructure.TIM_Value     = (u16)(65536UL - (MAIN_Fosc / 1000UL));    //ÖÐ¶ÏÆµÂÊ, 1000´Î/Ãë
   56   1        TIM_InitStructure.TIM_PS        = 0;          //8Î»Ô¤·ÖÆµÆ÷(n+1), 0~255
   57   1        TIM_InitStructure.TIM_Run       = ENABLE;         //ÊÇ·ñ³õÊ¼»¯ºóÆô¶¯¶¨Ê±Æ÷, ENABLE»òDISABLE
   58   1        Timer_Inilize(Timer0,&TIM_InitStructure);         //³õÊ¼»¯Timer0    Timer0,Timer1,Timer2,Timer3,Timer4
   59   1        NVIC_Timer0_Init(ENABLE,Priority_0);    //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÓÅÏÈ¼¶(µÍµ½¸ß) Priority_0,Priority_1,P
             -riority_2,Priority_3
   60   1      
   61   1      //  //¶¨Ê±Æ÷1×ö16Î»×Ô¶¯ÖØ×°, ÖÐ¶ÏÆµÂÊÎª20000HZ£¬ÖÐ¶Ïº¯Êý´ÓP6.6È¡·´Êä³ö10KHZ·½²¨ÐÅºÅ.
   62   1      //  TIM_InitStructure.TIM_Mode      = TIM_16BitAutoReload;  //Ö¸¶¨¹¤×÷Ä£Ê½,   TIM_16BitAutoReload,TIM_16Bit
             -,TIM_8BitAutoReload,TIM_16BitAutoReloadNoMask
   63   1      //  TIM_InitStructure.TIM_ClkSource = TIM_CLOCK_1T;   //Ö¸¶¨Ê±ÖÓÔ´, TIM_CLOCK_1T,TIM_CLOCK_12T,TIM_CLOCK_Ex
             -t
   64   1      //  TIM_InitStructure.TIM_ClkOut    = DISABLE;        //ÊÇ·ñÊä³ö¸ßËÙÂö³å, ENABLE»òDISABLE
   65   1      //  TIM_InitStructure.TIM_Value     = 65536UL - (MAIN_Fosc / 20000);      //ÖÐ¶ÏÆµÂÊ, 20000´Î/Ãë
   66   1      //  TIM_InitStructure.TIM_PS        = 0;          //8Î»Ô¤·ÖÆµÆ÷(n+1), 0~255
   67   1      //  TIM_InitStructure.TIM_Run       = ENABLE;         //ÊÇ·ñ³õÊ¼»¯ºóÆô¶¯¶¨Ê±Æ÷, ENABLE»òDISABLE
   68   1      //  Timer_Inilize(Timer1,&TIM_InitStructure);         //³õÊ¼»¯Timer1    Timer0,Timer1,Timer2,Timer3,Timer4
   69   1      //  NVIC_Timer1_Init(ENABLE,Priority_0);    //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÓÅÏÈ¼¶(µÍµ½¸ß) Priority_0,Priority_1
             -,Priority_2,Priority_3
   70   1      
   71   1      //  //¶¨Ê±Æ÷2×ö16Î»×Ô¶¯ÖØ×°, ÖÐ¶ÏÆµÂÊÎª10000HZ£¬ÖÐ¶Ïº¯Êý´ÓP6.5È¡·´Êä³ö5KHZ·½²¨ÐÅºÅ.
   72   1      //  TIM_InitStructure.TIM_ClkSource = TIM_CLOCK_1T;   //Ö¸¶¨Ê±ÖÓÔ´,     TIM_CLOCK_1T,TIM_CLOCK_12T,TIM_CLOC
             -K_Ext
   73   1      //  TIM_InitStructure.TIM_ClkOut    = DISABLE;        //ÊÇ·ñÊä³ö¸ßËÙÂö³å, ENABLE»òDISABLE
   74   1      //  TIM_InitStructure.TIM_Value     = 65536UL - (MAIN_Fosc / 10000);        //³õÖµ
   75   1      //  TIM_InitStructure.TIM_PS        = 0;          //8Î»Ô¤·ÖÆµÆ÷(n+1), 0~255
   76   1      //  TIM_InitStructure.TIM_Run       = ENABLE;         //ÊÇ·ñ³õÊ¼»¯ºóÆô¶¯¶¨Ê±Æ÷, ENABLE»òDISABLE
   77   1      //  Timer_Inilize(Timer2,&TIM_InitStructure);         //³õÊ¼»¯Timer2    Timer0,Timer1,Timer2,Timer3,Timer4
   78   1      //  NVIC_Timer2_Init(ENABLE,NULL);    //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÎÞÓÅÏÈ¼¶
   79   1      
   80   1      //  //¶¨Ê±Æ÷3×ö16Î»×Ô¶¯ÖØ×°, ÖÐ¶ÏÆµÂÊÎª100HZ£¬ÖÐ¶Ïº¯Êý´ÓP6.4È¡·´Êä³ö50HZ·½²¨ÐÅºÅ.
   81   1      //  TIM_InitStructure.TIM_ClkSource = TIM_CLOCK_12T;  //Ö¸¶¨Ê±ÖÓÔ´,     TIM_CLOCK_1T,TIM_CLOCK_12T,TIM_CLOC
             -K_Ext
   82   1      //  TIM_InitStructure.TIM_ClkOut    = ENABLE;         //ÊÇ·ñÊä³ö¸ßËÙÂö³å, ENABLE»òDISABLE
   83   1      //  TIM_InitStructure.TIM_Value     = 65536UL - (MAIN_Fosc / (100*12));   //³õÖµ
   84   1      //  TIM_InitStructure.TIM_PS        = 0;          //8Î»Ô¤·ÖÆµÆ÷(n+1), 0~255
   85   1      //  TIM_InitStructure.TIM_Run       = ENABLE;         //ÊÇ·ñ³õÊ¼»¯ºóÆô¶¯¶¨Ê±Æ÷, ENABLE»òDISABLE
   86   1      //  Timer_Inilize(Timer3,&TIM_InitStructure);         //³õÊ¼»¯Timer3    Timer0,Timer1,Timer2,Timer3,Timer4
   87   1      //  NVIC_Timer3_Init(ENABLE,NULL);    //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÎÞÓÅÏÈ¼¶
   88   1      
   89   1      //  //¶¨Ê±Æ÷4×ö16Î»×Ô¶¯ÖØ×°, ÖÐ¶ÏÆµÂÊÎª50HZ£¬ÖÐ¶Ïº¯Êý´ÓP6.3È¡·´Êä³ö25HZ·½²¨ÐÅºÅ.
   90   1      //  TIM_InitStructure.TIM_ClkSource = TIM_CLOCK_12T;  //Ö¸¶¨Ê±ÖÓÔ´,     TIM_CLOCK_1T,TIM_CLOCK_12T,TIM_CLOC
             -K_Ext
   91   1      //  TIM_InitStructure.TIM_ClkOut    = ENABLE;         //ÊÇ·ñÊä³ö¸ßËÙÂö³å, ENABLE»òDISABLE
   92   1      //  TIM_InitStructure.TIM_Value     = 65536UL - (MAIN_Fosc / (50*12));    //³õÖµ
   93   1      //  TIM_InitStructure.TIM_PS        = 0;          //8Î»Ô¤·ÖÆµÆ÷(n+1), 0~255
   94   1      //  TIM_InitStructure.TIM_Run       = ENABLE;         //ÊÇ·ñ³õÊ¼»¯ºóÆô¶¯¶¨Ê±Æ÷, ENABLE»òDISABLE
   95   1      //  Timer_Inilize(Timer4,&TIM_InitStructure);         //³õÊ¼»¯Timer4    Timer0,Timer1,Timer2,Timer3,Timer4
   96   1      //  NVIC_Timer4_Init(ENABLE,NULL);    //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÎÞÓÅÏÈ¼¶
   97   1      }
   98          
   99          //========================================================================
  100          //                              ADC³õÊ¼»¯
  101          //========================================================================
  102          void  ADC_config(void)
  103          {
  104   1        ADC_InitTypeDef   ADC_InitStructure;    //½á¹¹¶¨Òå
  105   1        ADC_InitStructure.ADC_SMPduty   = 31;   //ADC Ä£ÄâÐÅºÅ²ÉÑùÊ±¼ä¿ØÖÆ, 0~31£¨×¢Òâ£º SMPDUTY Ò»¶¨²»ÄÜÉèÖÃÐ¡ÓÚ
             - 10£©
  106   1        ADC_InitStructure.ADC_CsSetup   = 0;    //ADC Í¨µÀÑ¡ÔñÊ±¼ä¿ØÖÆ 0(Ä¬ÈÏ),1
  107   1        ADC_InitStructure.ADC_CsHold    = 1;    //ADC Í¨µÀÑ¡Ôñ±£³ÖÊ±¼ä¿ØÖÆ 0,1(Ä¬ÈÏ),2,3
  108   1        ADC_InitStructure.ADC_Speed     = ADC_SPEED_2X1T;   //ÉèÖÃ ADC ¹¤×÷Ê±ÖÓÆµÂÊ ADC_SPEED_2X1T~ADC_SPEED_2X16
             -T
  109   1        ADC_InitStructure.ADC_AdjResult = ADC_RIGHT_JUSTIFIED;  //ADC½á¹ûµ÷Õû,  ADC_LEFT_JUSTIFIED,ADC_RIGHT_JUSTI
C251 COMPILER V5.60.0,  system_init                                                        19/09/23  21:23:32  PAGE 3   

             -FIED
  110   1        ADC_Inilize(&ADC_InitStructure);    //³õÊ¼»¯
  111   1        ADC_PowerControl(ENABLE);           //ADCµçÔ´¿ª¹Ø, ENABLE»òDISABLE
  112   1        NVIC_ADC_Init(DISABLE,Priority_0);    //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÓÅÏÈ¼¶(µÍµ½¸ß) Priority_0,Priority_1,Pri
             -ority_2,Priority_3
  113   1      }
  114          
  115          //========================================================================
  116          //                              ´®¿Ú³õÊ¼»¯
  117          //========================================================================
  118          void  UART_config(void)
  119          {
  120   1        COMx_InitDefine   COMx_InitStructure;         //½á¹¹¶¨Òå
  121   1      
  122   1        COMx_InitStructure.UART_Mode      = UART_8bit_BRTx; //Ä£Ê½, UART_ShiftRight,UART_8bit_BRTx,UART_9bit,UAR
             -T_9bit_BRTx
  123   1        COMx_InitStructure.UART_BRT_Use   = BRT_Timer1;     //Ñ¡Ôñ²¨ÌØÂÊ·¢ÉúÆ÷, BRT_Timer1, BRT_Timer2 (×¢Òâ: ´®¿Ú
             -2¹Ì¶¨Ê¹ÓÃBRT_Timer2)
  124   1        COMx_InitStructure.UART_BaudRate  = 115200ul;     //²¨ÌØÂÊ, Ò»°ã 110 ~ 115200
  125   1        COMx_InitStructure.UART_RxEnable  = ENABLE;       //½ÓÊÕÔÊÐí,   ENABLE»òDISABLE
  126   1        COMx_InitStructure.BaudRateDouble = DISABLE;      //²¨ÌØÂÊ¼Ó±¶, ENABLE»òDISABLE
  127   1        UART_Configuration(UART1, &COMx_InitStructure);   //³õÊ¼»¯´®¿Ú1 UART1,UART2,UART3,UART4
  128   1        NVIC_UART1_Init(ENABLE,Priority_1);   //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÓÅÏÈ¼¶(µÍµ½¸ß) Priority_0,Priority_1,Pr
             -iority_2,Priority_3
  129   1      
  130   1      //  COMx_InitStructure.UART_Mode      = UART_8bit_BRTx;   //Ä£Ê½,   UART_ShiftRight,UART_8bit_BRTx,UART_9bi
             -t,UART_9bit_BRTx
  131   1      ////  COMx_InitStructure.UART_BRT_Use   = BRT_Timer2;     //Ñ¡Ôñ²¨ÌØÂÊ·¢ÉúÆ÷, BRT_Timer2 (×¢Òâ: ´®¿Ú2¹Ì¶¨Ê¹Ó
             -ÃBRT_Timer2, ËùÒÔ²»ÓÃÑ¡Ôñ)
  132   1      //  COMx_InitStructure.UART_BaudRate  = 115200ul;     //²¨ÌØÂÊ,     110 ~ 115200
  133   1      //  COMx_InitStructure.UART_RxEnable  = ENABLE;       //½ÓÊÕÔÊÐí,   ENABLE»òDISABLE
  134   1      //  UART_Configuration(UART2, &COMx_InitStructure);   //³õÊ¼»¯´®¿Ú2 UART1,UART2,UART3,UART4
  135   1      //  NVIC_UART2_Init(ENABLE,Priority_1);   //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÓÅÏÈ¼¶(µÍµ½¸ß) Priority_0,Priority_1,
             -Priority_2,Priority_3
  136   1      }
  137          
  138          //========================================================================
  139          //                               I2C³õÊ¼»¯
  140          //========================================================================
  141          void  I2C_config(void)
  142          {
  143   1        I2C_InitTypeDef   I2C_InitStructure;
  144   1        I2C_InitStructure.I2C_Mode      = I2C_Mode_Master;  //Ö÷´ÓÑ¡Ôñ   I2C_Mode_Master, I2C_Mode_Slave
  145   1        I2C_InitStructure.I2C_Enable    = ENABLE;           //I2C¹¦ÄÜÊ¹ÄÜ,   ENABLE, DISABLE
  146   1        I2C_InitStructure.I2C_MS_WDTA   = DISABLE;          //Ö÷»úÊ¹ÄÜ×Ô¶¯·¢ËÍ,  ENABLE, DISABLE
  147   1        I2C_InitStructure.I2C_Speed     = 16;               //×ÜÏßËÙ¶È=Fosc/2/(Speed*2+4),      0~63
  148   1        I2C_Init(&I2C_InitStructure);
  149   1        NVIC_I2C_Init(I2C_Mode_Master,DISABLE,Priority_0);    //Ö÷´ÓÄ£Ê½, I2C_Mode_Master, I2C_Mode_Slave; ÖÐ¶ÏÊ¹Ä
             -Ü, ENABLE/DISABLE; ÓÅÏÈ¼¶(µÍµ½¸ß) Priority_0,Priority_1,Priority_2,Priority_3
  150   1      }
  151          
  152          //========================================================================
  153          //                               SPI³õÊ¼»¯
  154          //========================================================================
  155          /****************  SPI³õÊ¼»¯º¯Êý *****************/
  156          void SPI_config(void)
  157          {
  158   1        SPI_InitTypeDef   SPI_InitStructure;
  159   1        SPI_InitStructure.SPI_Enable    = ENABLE;       //SPIÆô¶¯    ENABLE, DISABLE
  160   1        SPI_InitStructure.SPI_SSIG      = ENABLE;       //Æ¬Ñ¡Î»     ENABLE, DISABLE
  161   1        SPI_InitStructure.SPI_FirstBit  = SPI_LSB;        //ÒÆÎ»·½Ïò   SPI_MSB, SPI_LSB
  162   1        SPI_InitStructure.SPI_Mode      = SPI_Mode_Master;    //Ö÷´ÓÑ¡Ôñ   SPI_Mode_Master, SPI_Mode_Slave
  163   1        SPI_InitStructure.SPI_CPOL      = SPI_CPOL_Low;     //Ê±ÖÓÏàÎ»   SPI_CPOL_High,   SPI_CPOL_Low
  164   1        SPI_InitStructure.SPI_CPHA      = SPI_CPHA_2Edge;   //Êý¾Ý±ßÑØ   SPI_CPHA_1Edge,  SPI_CPHA_2Edge
  165   1        SPI_InitStructure.SPI_Speed     = SPI_Speed_4;      //SPIËÙ¶È    SPI_Speed_4, SPI_Speed_8, SPI_Speed_16, SP
             -I_Speed_2
C251 COMPILER V5.60.0,  system_init                                                        19/09/23  21:23:32  PAGE 4   

  166   1        SPI_Init(&SPI_InitStructure);
  167   1        NVIC_SPI_Init(DISABLE,Priority_3);    //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÓÅÏÈ¼¶(µÍµ½¸ß) Priority_0,Priority_1,Pri
             -ority_2,Priority_3
  168   1        
  169   1        SPI_SW(SPI_P22_P23_P24_P25);  //SPI_P54_P13_P14_P15,SPI_P22_P23_P24_P25,SPI_P54_P40_P41_P43,SPI_P35_P34_P
             -33_P32
  170   1        SPI_SS_2 = 1;
  171   1      }
  172          //========================================================================
  173          //                             ±È½ÏÆ÷³õÊ¼»¯
  174          //========================================================================
  175          void  CMP_config(void)
  176          {
  177   1        CMP_InitDefine CMP_InitStructure;           //½á¹¹¶¨Òå
  178   1        CMP_InitStructure.CMP_EN = ENABLE;                //ÔÊÐí±È½ÏÆ÷    ENABLE,DISABLE
  179   1        CMP_InitStructure.CMP_P_Select     = CMP_P_P37;   //±È½ÏÆ÷ÊäÈëÕý¼«Ñ¡Ôñ, CMP_P_P37/CMP_P_P50/CMP_P_P51, CM
             -P_P_ADC: ÓÉADCÄ£ÄâÊäÈë¶Ë×öÕýÊäÈë.
  180   1        CMP_InitStructure.CMP_N_Select     = CMP_N_GAP;   //±È½ÏÆ÷ÊäÈë¸º¼«Ñ¡Ôñ, CMP_N_GAP: Ñ¡ÔñÄÚ²¿BandGap¾­¹ýOPº
             -óµÄµçÑ¹×ö¸ºÊäÈë, CMP_N_P36: Ñ¡ÔñP3.6×ö¸ºÊäÈë.
  181   1        CMP_InitStructure.CMP_InvCMPO      = DISABLE;     //±È½ÏÆ÷Êä³öÈ¡·´,   ENABLE,DISABLE
  182   1        CMP_InitStructure.CMP_100nsFilter  = ENABLE;      //ÄÚ²¿0.1usÂË²¨,    ENABLE,DISABLE
  183   1        CMP_InitStructure.CMP_Outpt_En     = ENABLE;      //ÔÊÐí±È½Ï½á¹ûÊä³ö,ENABLE,DISABLE
  184   1        CMP_InitStructure.CMP_OutDelayDuty = 16;          //±È½Ï½á¹û±ä»¯ÑÓÊ±ÖÜÆÚÊý, 0~63
  185   1        CMP_Inilize(&CMP_InitStructure);        //³õÊ¼»¯±È½ÏÆ÷
  186   1        NVIC_CMP_Init(RISING_EDGE|FALLING_EDGE,Priority_0); //ÖÐ¶ÏÊ¹ÄÜ, RISING_EDGE/FALLING_EDGE/DISABLE; ÓÅÏÈ¼¶
             -(µÍµ½¸ß) Priority_0,Priority_1,Priority_2,Priority_3
  187   1      }
  188          //========================================================================
  189          //                             Íâ²¿ÖÐ¶Ï³õÊ¼»¯
  190          //========================================================================
  191          void  Exti_config(void)
  192          {
  193   1        EXTI_InitTypeDef  Exti_InitStructure;             //½á¹¹¶¨Òå
  194   1      
  195   1        Exti_InitStructure.EXTI_Mode      = EXT_MODE_Fall;//ÖÐ¶ÏÄ£Ê½,   EXT_MODE_RiseFall,EXT_MODE_Fall
  196   1        Ext_Inilize(EXT_INT0,&Exti_InitStructure);        //³õÊ¼»¯
  197   1        NVIC_INT0_Init(ENABLE,Priority_0);    //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÓÅÏÈ¼¶(µÍµ½¸ß) Priority_0,Priority_1,Pri
             -ority_2,Priority_3
  198   1      
  199   1        Exti_InitStructure.EXTI_Mode      = EXT_MODE_Fall;//ÖÐ¶ÏÄ£Ê½,   EXT_MODE_RiseFall,EXT_MODE_Fall
  200   1        Ext_Inilize(EXT_INT1,&Exti_InitStructure);        //³õÊ¼»¯
  201   1        NVIC_INT1_Init(ENABLE,Priority_0);    //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÓÅÏÈ¼¶(µÍµ½¸ß) Priority_0,Priority_1,Pri
             -ority_2,Priority_3
  202   1      
  203   1        NVIC_INT2_Init(ENABLE,NULL);    //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÎÞÓÅÏÈ¼¶
  204   1        NVIC_INT3_Init(ENABLE,NULL);    //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÎÞÓÅÏÈ¼¶
  205   1        NVIC_INT4_Init(ENABLE,NULL);    //ÖÐ¶ÏÊ¹ÄÜ, ENABLE/DISABLE; ÎÞÓÅÏÈ¼¶
  206   1      }
  207          
  208          //========================================================================
  209          //                             Íâ²¿ÖÐ¶Ï³õÊ¼»¯
  210          //========================================================================
  211          
  212          //========================================================================
  213          //                               ¹¦ÄÜ½ÅÇÐ»»
  214          //========================================================================
  215          void  Switch_config(void)
  216          {
  217   1      //  UART1_SW(UART1_SW_P30_P31);   //UART1_SW_P30_P31,UART1_SW_P36_P37,UART1_SW_P16_P17,UART1_SW_P43_P44
  218   1      //  UART2_SW(UART2_SW_P46_P47);   //UART2_SW_P10_P11,UART2_SW_P46_P47
  219   1      //  UART3_SW(UART3_SW_P00_P01);   //UART3_SW_P00_P01,UART3_SW_P50_P51
  220   1      //  UART4_SW(UART4_SW_P02_P03);   //UART4_SW_P02_P03,UART4_SW_P52_P53
  221   1      //  I2C_SW(I2C_P14_P15);      //I2C_P14_P15,I2C_P24_P25,I2C_P76_P77,I2C_P33_P32
  222   1      //  COMP_SW(CMP_OUT_P34);     //CMP_OUT_P34,CMP_OUT_P41
  223   1      //  SPI_SW(SPI_P22_P23_P24_P25);  //SPI_P54_P13_P14_P15,SPI_P22_P23_P24_P25,SPI_P54_P40_P41_P43,SPI_P35_P34
             -_P33_P32
C251 COMPILER V5.60.0,  system_init                                                        19/09/23  21:23:32  PAGE 5   

  224   1      
  225   1      //  LCM_CTRL_SW(LCM_CTRL_P45_P44_P42);  //LCM_CTRL_P45_P44_P42,LCM_CTRL_P45_P37_P36,LCM_CTRL_P40_P44_P42,LC
             -M_CTRL_P40_P37_P36
  226   1      //  LCM_DATA_SW(LCM_D8_NA_P6);    //LCM_D8_NA_P2,LCM_D8_NA_P6 / LCM_D16_P2_P0,LCM_D16_P6_P2,LCM_D16_P2_P0P4,
             -LCM_D16_P6_P7
  227   1      }
  228          
  229          //========================================================================
  230          //                                ÏµÍ³³õÊ¼»¯
  231          //========================================================================
  232          
  233          void  SYS_Init(void)
  234          {
  235   1      
  236   1        GPIO_config();
  237   1        // Timer_config();
  238   1      //  ADC_config();
  239   1      //  UART_config();
  240   1      //  Exti_config();
  241   1      //  I2C_config();
  242   1      //  SPI_config();
  243   1      //  CMP_config();
  244   1        // Switch_config();
  245   1        EA = 1;
  246   1        
  247   1        APP_config();
  248   1        
  249   1        
  250   1      }
  251          


Module Information          Static   Overlayable
------------------------------------------------
  code size            =    ------     ------
  ecode size           =       457     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------         42
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  4 WARNING(S),  0 ERROR(S)
